```
class Solution:
    def multiply(self, A):
        l, u, n, B = [1], [1], len(A), []
        for i in range(n-1):
            l.append(l[-1] * A[i])
            u.append(u[-1] * A[~i])
        for i in range(n):
            B.append(l[i] * u[~i])
        return B
```
